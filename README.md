# Jasp

Jasp是一个用来学习量子化学算法的小软件。


## 1 编译和运行

```bash
cd jasp-1-0
cmake CMakeLists.txt
make
./jasp-1-0 < examples/H2O.gjf
```

在bin文件夹中已存放两个静态编译的版本
```
jasp-1-0        Linux版本
jasp-1-0.exe    Windows版本
```

可直接运行
```bash
cd jasp-1-0
cp bin/jasp-1-0 ./
chmod +x ./jasp-1-0
./jasp-1-0 < examples/H2O.gjf
```


## 2 输入文件

在examples文件夹中提供了部分输入文件，下面说明输入文件的构成：

* 输入文件的第一行为执行路径部分，以 `#` 开头，指定所需的化学模型，计算类型等（结束有空行）。关键词之间用斜杠/或空格隔开，不区分大小写。第一个关键词必须为计算方法关键词，第二个关键词必须为基组关键词。例如：
```
# HF/STO-3G
```
* 分子说明在执行路径输入结束后输入。分子信息的第一行指定分子的净电荷（一个有正负号的整数）和自选多重度（一个正整数）。随后每行输入一个原子的坐标信息，格式为
```
元素符号    x    y    z
```

* 输入文件中一行中感叹号 `!` 后面的内容被视为注释。


## 3 关键词
指定所需的化学模型，计算类型等。关键词和关键词参数之间用等于号=连接，等于号前后不能有空格。例如
```
UNIT=BOHR
```

### 3.1 计算方法
目前计算方法只支持RHF方法，输入HF或RHF关键词都可以指定使用RHF的计算方法。

### 3.2 基组
基组文件存放于basis文件夹，可自行添加基组，添加方法参见下一节。

### 3.3 SCF
`SCF`关键词指定计算单点能，目前只支持`SCF`计算，不输入计算类型关键词时默认执行`SCF`计算。`SCF`可指定的参数有：
* `Auto`  在计算大基组体系时，容易产生震荡不收敛的情况，程序在更新密度矩阵时可以混合部分上一轮迭代的密度矩阵，以增加迭代次数为代价，防止震荡不收敛的迭代现象发生。此参数为默认参数，程序将自动考虑是否混合之前的密度矩阵。
* `Mix`  在计算新的密度矩阵时，强制混合上次迭代的密度矩阵。
* `NoMix`  完全不混合上一轮的密度矩阵。

### 3.4 UNIT
`UNIT` 关键词说明分子说明部分的分子坐标使用的单位，`UNIT`可以先择的参数有：
* `ANG` 长度单位为angstom，这也是默认长度单位。
* `BOHR` 长度单位为bohr。

## 4 添加基组

Jasp支持STO基组，目前支持包含不超过D轨道的基组。基组存放于basis文件夹中，该文件夹与可执行程序放于同一目录下。可以自行导入基组，可从基组数据库[EMSL](https://bse.pnl.gov/bse/portal)选择所需基组（格式选择Gaussian94），保存成文本文件（文件名中的字母大写），存放于basis文件夹中。只需基组文件名与输入参数的基组名相同即可调用该基组。

执行路径中的基组关键词目前不支持`Gen`关键词，即为分子中的原子指定不同基组。该功能将于下一版添加。


## 5 更新期待

下一个版本将主要更新两个方面：

* 支持格点积分的DFT
* 支持openMP并行